<div class="file-upload-wrap">
    <div data-bind="template: { name: 'workflow/workflow-document-actions', data: $root.WorkflowModel }">
    </div>
</div>

<!-- ko if: $root.canUploadDocument($data) -->
<div class="file-upload-wrap">
    <span class="upload-text"><strong>Прикачете документ кој е електронски потпишан или скениран:&nbsp;&nbsp;</strong></span>
    <a href="javascript:void(0)" class="request-upload-document btn btn-primary"
        data-bind="i18n: 'eDozvoli.Web.templates.workflow.workflow-document-actions.PrikaciDokument'">Прикачи документ</a>
</div>
<!-- /ko -->

<div class="tabbable">
    <ul class="nav nav-tabs">
        <li class="active documents-tab">
            <a href="#tab-submitted-documents" data-toggle="tab" data-bind="i18n: 'eDozvoli.Web.templates.workflow.workflow-document-actions.podneseni'">Поднесени документи</a>
        </li>
        <li class="documents-tab" data-bind="visible: $root.AdditionalDocuments().length > 0">
            <a href="#tab-additional-documents" data-toggle="tab" data-bind="i18n: 'eDozvoli.Web.templates.workflow.workflow-document-actions.dopolnitelnopodneseni'">Дополнително поднесени документи</a>
        </li>
        <li class="documents-tab" data-bind="visible: $root.ProcessDocuments().length > 0">
            <a href="#tab-process-documents" data-toggle="tab" data-bind="i18n: 'eDozvoli.Web.templates.workflow.workflow-document-actions.postapka'">Документи од постапката</a>
        </li>
    </ul>
    <div class="tab-content">
        <div class="tab-pane active" id="tab-submitted-documents">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>#</th>
                        <th><span data-bind="i18n: 'eDozvoli.Web.templates.request-details-fullhistory.TipNaDokument'">Тип на документ</span></th>
                        <th><span data-bind="i18n: 'eDozvoli.Web.templates.public-requests.Pateka'">Патека</span></th>
                        <th><span data-bind="i18n: 'eDozvoli.Web.templates.request-details-fullhistory.KreiranOd'">Креиран од</span></th>
                        <th><span data-bind="i18n: 'eDozvoli.Web.templates.request-details-fullhistory.KreiranNa'">Креиран на</span></th>
                        <th><span data-bind="i18n: 'eDozvoli.Web.templates.request-details-fullhistory.PromenetoOd'">Променето од</span></th>
                        <th><span data-bind="i18n: 'eDozvoli.Web.templates.request-details-fullhistory.PoslednaPromena'">Последна промена</span></th>
                    </tr>
                </thead>
                <!-- ko if:$root.SubmittedDocuments().length > 0 -->
                <tbody data-bind="foreach: $root.SubmittedDocuments">
                    <tr>
                        <td>
                            <span data-bind="text: ($index() + 1) + '.'"></span>
                        </td>
                        <td>
                            <span data-bind="text: DocumentTypeName"></span>
                        </td>
                        <td>
                            <a data-bind="attr: { href: FileDownloadUrl }, text: FileName"></a>
                        </td>
                        <td><span data-bind="text: CreatedBy"></span></td>
                        <td><span data-bind="text: Created"></span></td>
                        <td><span data-bind="text: ModifiedBy"></span></td>
                        <td><span data-bind="text: Modified"></span></td>
                    </tr>
                </tbody>
                <!-- /ko -->
                <!-- ko if:$root.SubmittedDocuments().length == 0 -->
                <tbody>
                    <tr>
                        <td colspan="7">
                            <div class="alert">
                                <strong><span data-bind="i18n: 'eDozvoli.Web.templates.request-details-fullhistory.NemaZapisi'">Нема пронајдени записи!</span></strong>
                            </div>
                        </td>
                    </tr>
                </tbody>
                <!-- /ko -->
            </table>
        </div>
        <div class="tab-pane" id="tab-additional-documents">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>#</th>
                        <th><span data-bind="i18n: 'eDozvoli.Web.templates.request-details-fullhistory.TipNaDokument'">Тип на документ</span></th>
                        <th><span data-bind="i18n: 'eDozvoli.Web.templates.public-requests.Pateka'">Патека</span></th>
                        <th><span data-bind="i18n: 'eDozvoli.Web.templates.request-details-fullhistory.KreiranOd'">Креиран од</span></th>
                        <th><span data-bind="i18n: 'eDozvoli.Web.templates.request-details-fullhistory.KreiranNa'">Креиран на</span></th>
                        <th><span data-bind="i18n: 'eDozvoli.Web.templates.request-details-fullhistory.PromenetoOd'">Променето од</span></th>
                        <th><span data-bind="i18n: 'eDozvoli.Web.templates.request-details-fullhistory.PoslednaPromena'">Последна промена</span></th>
                    </tr>
                </thead>
                <!-- ko if:$root.AdditionalDocuments().length > 0 -->
                <tbody data-bind="foreach: $root.AdditionalDocuments">
                    <tr>
                        <td>
                            <span data-bind="text: ($index() + 1) + '.'"></span>
                        </td>
                        <td>
                            <span data-bind="text: DocumentTypeName"></span>
                        </td>
                        <td>
                            <a data-bind="attr: { href: FileDownloadUrl }, text: FileName"></a>
                        </td>
                        <td><span data-bind="text: CreatedBy"></span></td>
                        <td><span data-bind="text: Created"></span></td>
                        <td><span data-bind="text: ModifiedBy"></span></td>
                        <td><span data-bind="text: Modified"></span></td>
                    </tr>
                </tbody>
                <!-- /ko -->
                <!-- ko if:$root.AdditionalDocuments().length == 0 -->
                <tbody>
                    <tr>
                        <td colspan="5">
                            <div class="alert">
                                <strong><span data-bind="i18n: 'eDozvoli.Web.templates.request-details-fullhistory.NemaZapisi'">Нема пронајдени записи!</span></strong>
                            </div>
                        </td>
                    </tr>
                  
                </tbody>
                <!-- /ko -->
            </table>

        </div>

        <div class="tab-pane" id="tab-process-documents">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>#</th>
                        <th><span data-bind="i18n: 'eDozvoli.Web.templates.request-details-fullhistory.TipNaDokument'">Тип на документ</span></th>
                        <th><span data-bind="i18n: 'eDozvoli.Web.templates.public-requests.Pateka'">Патека</span></th>
                        <th><span data-bind="i18n: 'eDozvoli.Web.templates.public-requests.Komentar'">Коментар</span></th>
                        <th><span data-bind="i18n: 'eDozvoli.Web.templates.request-details-fullhistory.KreiranOd'">Креиран од</span></th>
                        <th><span data-bind="i18n: 'eDozvoli.Web.templates.request-details-fullhistory.KreiranNa'">Креиран на</span></th>
                        <th><span data-bind="i18n: 'eDozvoli.Web.templates.request-details-fullhistory.PromenetoOd'">Променето од</span></th>
                        <th><span data-bind="i18n: 'eDozvoli.Web.templates.request-details-fullhistory.PoslednaPromena'">Последна промена</span></th>
                    </tr>
                </thead>
                <!-- ko if:$root.ProcessDocuments().length > 0 -->
                <tbody data-bind="foreach: $root.ProcessDocuments">
                    <tr>
                        <td><span data-bind="text: ($index() + 1) + '.'"></span></td>
                        <td>
                            <span data-bind="text: DocumentTypeName"></span>
                        </td>
                        <td>
                            <a data-bind="attr: { href: FileDownloadUrl }, text: FileName"></a>
                        </td>
                        <td><span data-bind="text: Comment"></span></td>
                        <td><span data-bind="text: CreatedBy"></span></td>
                        <td><span data-bind="text: Created"></span></td>
                        <td><span data-bind="text: ModifiedBy"></span></td>
                        <td><span data-bind="text: Modified"></span></td>                 
                        <td>
                            <img src="Images/edit.png" alt="Промени" title="Промени" class="request-edit-document" style="cursor: pointer;" />
                        </td>
                        <td>
                            <img src="Images/delete.png" alt="Избриши" title="Избриши" data-bind="click: $root.DeleteDocument" style="cursor: pointer;" />
                        </td>
                    </tr>
                </tbody>
                <!-- /ko -->
                <!-- ko if:$root.ProcessDocuments().length == 0 -->
                <tbody>
                    <tr>
                        <td colspan="5">
                            <div class="alert">
                                <strong><span data-bind="i18n: 'eDozvoli.Web.templates.request-details-fullhistory.NemaZapisi'">Нема пронајдени записи!</span></strong>
                            </div>
                        </td>
                    </tr>
                </tbody>
                <!-- /ko -->
            </table>

        </div>
    </div>
</div>
